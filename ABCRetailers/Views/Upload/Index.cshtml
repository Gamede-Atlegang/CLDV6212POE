@model ABCRetailers.Models.FileUploadModel
@{
	ViewData["Title"] = "Upload Payment Proof";
}
<h2>Upload Payment Proof</h2>
<hr />
<div class="row">
	<div class="col-md-8">
		<form asp-action="Index" method="post" enctype="multipart/form-data">
			<div class="row g-3">
				<div class="col-md-6">
					<label asp-for="OrderId" class="form-label"></label>
					<input asp-for="OrderId" class="form-control" placeholder="Optional" />
				</div>
				<div class="col-md-6">
					<label asp-for="CustomerName" class="form-label"></label>
					<input asp-for="CustomerName" class="form-control" placeholder="Optional" />
				</div>
				<div class="col-12">
					<label asp-for="ProofOfPayment" class="form-label"></label>
					<input type="file" name="proofOfPayment" class="form-control" accept=".pdf,.jpg,.jpeg,.png,.doc,.docx" required />
					<div class="form-text">Accepted formats: PDF, JPG, PNG, DOC, DOCX (Max 10MB)</div>
					<span asp-validation-for="ProofOfPayment" class="text-danger"></span>
				</div>
			</div>
			<div class="mt-3">
				<button type="submit" class="btn btn-primary">Upload</button>
				<a asp-controller="Home" asp-action="Index" class="btn btn-secondary">Cancel</a>
			</div>
		</form>
	</div>
	<div class="col-md-4">
		<div class="card">
			<div class="card-header">
				<h5 class="mb-0">Upload Guidelines</h5>
			</div>
			<div class="card-body">
				<ul class="mb-0">
					<li>Ensure the file is clearly readable</li>
					<li>Include order reference if available</li>
					<li>Maximum file size: 10MB</li>
					<li>Files are stored securely in Azure File Share</li>
					<li>Upload notifications are sent to the system</li>
				</ul>
			</div>
		</div>
	</div>
</div>

@if (TempData["Message"] is string m)
{
	<div class="alert alert-success mt-3">@m</div>
}

@section Scripts {
	<partial name="_ValidationScriptsPartial" />
	<script>
		// File size validation
		$('input[type="file"]').change(function() {
			var file = this.files[0];
			if (file && file.size > 10 * 1024 * 1024) { // 10MB
				alert('File size must be less than 10MB');
				this.value = '';
			}
		});
	</script>
}